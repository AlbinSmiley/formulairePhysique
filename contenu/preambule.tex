\documentclass[landscape,a4paper]{article}
\usepackage{esvect}
\usepackage{graphicx}
\usepackage{mathtools}
\usepackage{IEEEtrantools}
\usepackage{physics}
\usepackage{tabularx}
\usepackage{array}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{xfrac}
\usepackage{indentfirst}
\usepackage{multicol}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{xfrac}
\usepackage{subfiles}
\usepackage[margin=0.5cm]{geometry}
\usepackage[fontsize=7pt]{fontsize}
\usepackage[thinc]{esdiff}
\usepackage[most]{tcolorbox}
\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{calc}
\usetikzlibrary{arrows.meta}
\usepackage[tiny,compact,explicit]{titlesec}

\titlespacing{\section}{0pt}{*0.5}{*0.2}
\titlespacing{\subsection}{0pt}{*1}{*2}
\titlespacing{\subsubsection}{0pt}{*0.4}{*1}

% \titleformat{\section}
% {\normalfont\bfseries}
% {}
% {1em}
% % {\colorbox{gray}{\thesection. #1}}
% {%\pgfsetfillopacity{0.5}
% \colorbox{gray}{\parbox{\dimexpr\linewidth-2\fboxsep\relax}{\textcolor{white}{\thesection\quad#1}}}
% % \pgfsetfillopacity{1}
% }
% %[\vspace{-1mm}\rule{\linewidth}{1pt}]
%
% \titleformat{\subsection}
% {\normalfont\bfseries}{\thesubsection. #1}{1em}{}
%
% \titleformat{\subsubsection}
% {\normalfont\bfseries}{\thesubsubsection. #1}{1em}{}

\makeatletter
\g@addto@macro\normalsize{%
  \setlength\abovedisplayskip{1pt}%
  \setlength\belowdisplayskip{1pt}%
  \setlength\abovedisplayshortskip{1pt}%
  \setlength\belowdisplayshortskip{1pt}%
}
\makeatother

% \titleformat{\section}
% \renewcommand{\section}[1]{\section{{\colorbox{Gray}{#1}}}}

\newcommand{\eqentry}[1]{\(\displaystyle #1\)}
\pagestyle{empty}

\newcommand{\req}[2]{
  \begin{center}
    \scalebox{#1}{
      \begin{tabular}{c}
        \(\displaystyle
        #2
        \)
      \end{tabular}
    }
  \end{center}
}
\newcommand{\scale}[2]{
  \begin{center}
    \scalebox{#1}{
      \begin{tabular}{c}
        #2
      \end{tabular}
    }
  \end{center}
}

\newcommand{\tailler}[1]{
  \resizebox{\linewidth}{!}{#1}
}


% RACCOURCIS d'ANALYSE ------------------------------------------------

\newcommand{\dx}{ \dd x }
\newcommand{\dt}{ \dd t }
\newcommand{\ddt}{\tfrac{\dd}{\dt} }

\newcommand{\dee}[1]{
  \,\,\,\mathrm{d}{#1}
}

% RACCOURCIS de VECTEURS ------------------------------------------------

% \renewcommand{\vv}[1]{\vv{#1}}

\newcommand{\unit}{\ensuremath{\vv{u}}}

\newcommand{\ux}{\ensuremath{\unit_x}}
\newcommand{\uy}{\ensuremath{\unit_y}}
\newcommand{\uz}{\ensuremath{\unit_z}}

\newcommand{\ur}{\ensuremath{\unit_{r}}}
\newcommand{\utheta}{\ensuremath{\unit_{\theta}}}
\newcommand{\uphi}{\ensuremath{\unit_{\varphi}}}
\newcommand{\urho}{\ensuremath{\unit_{\rho}}}

\newcommand{\mc}{\ensuremath{\vv{L}}}
\newcommand{\mf}{\ensuremath{\vv{M}}}

\newcommand{\veca}{\ensuremath{\vv{a}}}
\newcommand{\vecb}{\ensuremath{\vv{b}}}
\newcommand{\vecc}{\ensuremath{\vv{c}}}

\newcommand{\F}{\ensuremath{\vv{F}}}

\newcommand{\Qm}{\ensuremath{\vv{P}}}
\newcommand{\qm}{\ensuremath{\vv{p}}}

\newcommand{\pos}{\ensuremath{\vv{r}}}
\newcommand{\vi}{\ensuremath{\vv{v}}}
\newcommand{\vian}{\ensuremath{\vv{\omega}}}
\newcommand{\Vian}{\ensuremath{\vv{\Omega}}}

\newcommand{\ac}{\ensuremath{\vv{a}}}

\newcommand{\nod}{\vv{n}}

\newcommand{\exte}{\text{ext}}
\newcommand{\inte}{\text{int}}

\newcommand{\ti}{\ensuremath{\widetilde{I}}}

\newcommand{\refe}{\mathcal{R}}

% RACCOURCIS DE TRIGO ------------------------------------------------

\newcommand{\eqligne}[3]{\(\displaystyle #2\) & \(\displaystyle #1\) & \(\displaystyle#3\) \\}
\newcommand{\trigo}[3]{\(\displaystyle #1\) & \(\displaystyle #2\) & \(\displaystyle#3\) \\}
\newcommand{\trigod}[2]{\(\displaystyle #1\) & \(\displaystyle #2\) \\}

\newcommand{\Sin}[1]{\sin\left(#1\right)}
\newcommand{\Cos}[1]{\cos\left(#1\right)}
\newcommand{\Tan}[1]{\tan\left(#1\right)}
\newcommand{\Sins}[1]{\sin^2\left(#1\right)}
\newcommand{\Coss}[1]{\cos^2\left(#1\right)}
\newcommand{\Tans}[1]{\tan^2\left(#1\right)}
\newcommand{\Cot}[1]{\cot\left(#1\right)}
\newcommand{\Arcsin}[1]{\arcsin\left(#1\right)}
\newcommand{\Arccos}[1]{\arccos\left(#1\right)}
\newcommand{\Arctan}[1]{\arctan\left(#1\right)}

\newcommand{\lag}{\mathcal{L}}

